Search.setIndex({"docnames": ["api", "cli", "configuration", "deploy", "index", "plugins", "testing", "usage"], "filenames": ["api.rst", "cli.rst", "configuration.rst", "deploy.rst", "index.rst", "plugins.rst", "testing.rst", "usage.rst"], "titles": ["API", "CLI integration", "Configuration", "Deployment", "Welcome to Muffin\u2019s documentation!", "Plugins overview", "Testing", "Usage"], "terms": {"thi": [0, 1, 2, 3, 4, 7], "part": [0, 7], "document": [0, 3, 7], "cover": [0, 3, 7], "interfac": [0, 7], "muffin": [0, 1, 2, 3, 6, 7], "cfg_mod": [], "option": [1, 3, 4, 6, 7], "The": [2, 4, 5, 6], "paramet": [0, 2, 7], "union": [], "str": [2, 7], "modul": [1, 2, 6, 7], "rout": [0, 2, 3, 4, 6], "path": [1, 2, 3, 6, 7], "method": 7, "none": [0, 2, 7], "opt": [], "regist": [], "pattern": [], "iter": [], "return": [0, 3, 4, 6, 7], "type": 7, "callabl": 7, "decoratedcal": [], "on_startup": [], "fn": [], "startup": [], "on_shutdown": [], "shutdown": [], "on_error": 7, "etyp": [], "an": [0, 3, 4, 7], "except": [0, 3, 7], "app": [0, 1, 2, 3, 4, 6, 7], "timeouterror": 7, "async": [0, 1, 3, 4, 6, 7], "def": [0, 1, 3, 4, 6, 7], "timeout": [0, 7], "error": [0, 2, 4], "someth": 7, "bad": 7, "happen": 7, "404": 7, "page_not_found": 7, "render_templ": 7, "html": [3, 4, 7], "int": 7, "baseexcept": [], "middlewar": 4, "md": 7, "insert_first": [], "fals": [1, 2], "ani": 7, "asgi": [4, 6, 7], "from": [0, 2, 3, 6, 7], "import": [0, 3, 4, 6, 7], "sentry_asgi": 7, "sentrymiddlewar": 7, "altern": [3, 7], "custom": [4, 7], "intern": 7, "simple_md": 7, "receiv": [6, 7], "send": [4, 6, 7], "try": 7, "await": [0, 6, 7], "header": 7, "x": [3, 6, 7], "simpl": [2, 4, 7], "pass": 7, "runtimeerror": 7, "f": [4, 7], "bool": 7, "view": 7, "handl": 7, "http": [0, 3, 4, 5, 6, 7], "dispatch": [], "hello": [1, 3, 4, 7], "name": [1, 2, 3, 4], "hellohandl": [], "get": [2, 4, 6, 7], "self": [], "patch_param": [], "all": [3, 4, 7], "post": 7, "test_my_endpoint": [], "assert": [2, 6], "text": [1, 4, 6, 7], "john": [], "delet": [], "status_cod": [0, 6, 7], "405": [], "scope": [], "repres": [], "asynchron": [], "which": [2, 7], "let": [], "event": 4, "messag": [0, 1, 2, 4, 7], "object": 4, "contain": [], "inform": 7, "about": [3, 4], "incom": [], "home": 6, "url": 4, "ar": [0, 2, 3, 4, 7], "given": 2, "map": [], "version": [2, 4], "scheme": [], "etc": [0, 3], "kei": 7, "also": [2, 3, 7], "avail": [1, 2, 3, 6, 7], "attrubut": [], "queri": 7, "A": [0, 7], "lazi": [], "properti": 0, "pars": [2, 7], "current": [2, 7], "string": [0, 2, 7], "multidict": [], "": [0, 1, 2, 7], "decod": [], "them": 7, "case": 7, "insensit": [], "multi": [], "dict": 7, "cimultidict": [], "content": 7, "author": 5, "see": [1, 7], "futher": [], "refer": [3, 6], "cooki": 5, "dictionari": 7, "se": [], "session": 7, "charset": [], "encod": [], "content_typ": [], "yarl": [], "full": [3, 7], "host": 3, "i": [2, 3, 4, 7], "query_str": [], "further": [], "stream": 4, "bodi": 7, "provid": [5, 7], "byte": [], "chunk": [], "without": 7, "store": [], "entir": [], "memori": [], "subsequ": [], "call": 7, "form": [2, 7], "json": [2, 4, 7], "data": [0, 7], "rais": [0, 7], "you": [0, 1, 2, 3, 5, 6, 7], "can": [2, 3, 7], "onli": [3, 5, 7], "read": [2, 3], "onc": [], "second": 3, "save": [4, 7], "variabl": 4, "need": 3, "repeat": [], "b": 7, "asyncgener": [], "max_siz": [], "0": [3, 7], "upload_to": [], "file_memory_limit": [], "1048576": [], "multipart": 7, "formdata": 7, "stright": [], "float": 7, "list": [5, 7], "raise_error": [], "check": [3, 6], "automat": [4, 5, 7], "If": [3, 7], "default": [0, 3, 4, 7], "invalid": [0, 7], "ex": [], "would": [], "www": 3, "urlencod": [], "otherwis": [], "make": [3, 5, 7], "statu": [0, 7], "code": [0, 4, 6, 7], "helper": 0, "world": [3, 4, 7], "plain": [], "exampl": [0, 1, 3, 4, 6, 7], "ok": [0, 6, 7], "42": [], "simplecooki": [], "set": [2, 6, 7], "updat": [], "valu": [2, 7], "expir": [], "domain": 3, "max": [], "ag": [], "secur": 3, "should": [4, 7], "sent": 7, "ssl": [], "httponli": [], "through": [2, 7], "j": [], "samesit": [], "strategi": [], "lax": [], "strict": [], "rocki": [], "road": [], "responsecont": [], "h1": [], "your": [1, 2, 3, 4, 6, 7], "function": [4, 7], "result": 7, "convert": 7, "support": [2, 3, 4, 5, 7], "ujson": [], "orjson": [], "librari": [4, 7], "instal": [], "one": [3, 7], "us": [0, 1, 2, 3, 4, 6, 7], "instead": 3, "standard": 4, "boolean": 2, "kwarg": 0, "redirect": [3, 4], "307": [], "new": [], "locat": 3, "login": 7, "abl": [0, 7], "500": [0, 7], "httpstatu": 0, "502": 0, "400": [0, 7], "bad_request": 0, "not_found": 0, "bad_gatewai": 0, "gener": [], "stream_respons": [], "number": [], "rang": [], "10": 2, "sleep": [], "1": [2, 3, 7], "yield": [], "sse": [], "server": [3, 4, 7], "side": 4, "aio_sleep": [], "And": 7, "dictionati": [], "weel": [], "ping": 6, "time": [], "filepath": [], "chunk_siz": [], "65536": [], "filenam": 2, "headers_onli": [], "file": [2, 3, 4, 6], "size": [], "32768": [], "disposit": [], "selfi": [], "view_my_selfi": [], "storag": [], "my_best_selfi": [], "jpeg": [], "download": [], "download_movi": [], "video": [], "mp4": [], "movi": [], "2020": [], "01": [], "work": [5, 7], "websocket": 4, "info": 2, "tool": 4, "w": 6, "msg": 6, "pong": 6, "accept": 7, "param": 1, "connect": 7, "close": [], "1000": [], "tell": 4, "send_json": [], "serial": [], "raw": [], "mutablemap": [], "testclient": 4, "alia": [], "asgitestcli": 6, "run": [1, 2, 3, 4], "help": [1, 7], "app_object_nam": 1, "ll": 1, "applic": [1, 4, 6], "usag": [1, 4], "h": [1, 2], "ipython": 1, "argument": [1, 2, 7], "show": [1, 7], "exit": 1, "disabl": 1, "manag": [1, 4], "upper": 1, "here": [1, 3, 7], "uppercas": 1, "greet": [1, 7], "print": 1, "posit": [1, 7], "enabl": [1, 2], "mike": 1, "python": [2, 4], "have": [2, 7], "specifi": [2, 7], "initi": [2, 7], "first": [2, 3, 4], "config": [2, 3], "local": [2, 5], "product": [2, 7], "could": [2, 3, 7], "overriden": 2, "muffin_config": 2, "uvicorn": [2, 4, 7], "your_project": 2, "redefin": 2, "while": 2, "cfg": 2, "attribut": [2, 7], "debug": [2, 4], "true": [2, 7], "any_opt": 2, "one_mor": 2, "value2": 2, "base": [2, 3, 4, 5, 7], "prefix": [2, 7], "env": 2, "plugin": [2, 4], "mode": [2, 4], "trim_last_slash": 2, "static": [2, 3, 4], "static_url_prefix": [2, 7], "static_fold": [2, 7], "log_level": 2, "warn": [2, 6], "log_format": 2, "asctim": 2, "process": [2, 7], "d": [2, 3, 7], "levelnam": 2, "log_date_format": 2, "y": 2, "m": 2, "log_config": 2, "shell": 2, "context": 2, "manage_shel": 2, "lambda": 2, "aio_run": 2, "_": 2, "option_nam": 2, "By": [2, 3, 7], "consid": 2, "py": [2, 3, 4, 6, 7], "db_param": 2, "pool": 2, "token": 2, "o": 2, "well": [2, 3], "50": 2, "too": [2, 4], "order": [2, 7], "parament": 2, "when": [2, 4, 7], "defin": [2, 7], "dictconfig": 2, "format": 2, "place": 2, "disable_existing_logg": 2, "formatt": 2, "handler": [2, 4, 7], "logfil": 2, "level": 2, "class": [2, 4, 6, 7], "rotatingfilehandl": 2, "my_log": 2, "maxbyt": 2, "1024": 2, "backupcount": 2, "logger": 2, "project": [2, 3], "propag": 2, "It": [3, 7], "ha": 3, "sever": 3, "advantag": 3, "like": [3, 7], "replic": 3, "develop": 3, "simplic": 3, "offici": 3, "go": 3, "directori": [3, 7], "horn": 3, "latest": [3, 4], "copi": 3, "whole": 3, "index": [3, 7], "request": [3, 4, 6], "t": 3, "myimag": 3, "mycontain": 3, "p": [3, 7], "80": 3, "localhost": [3, 4], "127": [3, 7], "At": 3, "perfect": 3, "frontend": 3, "mai": 3, "prevent": 3, "mani": 3, "attack": 3, "malform": 3, "protocol": 3, "instanc": [3, 4], "allow": [3, 6], "util": 3, "cpu": 3, "core": 3, "third": 3, "serv": 3, "much": 3, "faster": 3, "than": 3, "built": [3, 4], "But": 3, "wai": [3, 7], "requir": 3, "more": [3, 5, 7], "complex": 3, "short": [3, 7], "extract": 3, "write": [3, 4, 5], "doe": 3, "For": [3, 7], "tutori": 3, "com": [3, 7], "resourc": [3, 5], "admin": 3, "guid": 3, "org": 3, "en": 3, "doc": 3, "ngx_http_proxy_modul": 3, "itself": 3, "listen": 3, "client_max_body_s": 3, "4g": 3, "server_nam": 3, "proxy_set_head": 3, "http_host": 3, "forward": 3, "proxy_add_x_forwarded_for": 3, "proxy_redirect": 3, "off": 3, "proxy_buff": 3, "proxy_pass": 3, "root": 3, "port": 3, "everyth": 3, "backend": 3, "group": 3, "next": [3, 4, 7], "we": [3, 4, 7], "upstream": 3, "fail_timeout": 3, "mean": [3, 7], "alwai": 3, "retri": 3, "even": 3, "fail": 3, "good": [3, 7], "respons": [3, 4, 6], "unix": 3, "tmp": 3, "example_1": 3, "sock": 3, "example_2": 3, "example_3": 3, "example_4": 3, "socket": [3, 6], "due": 3, "high": 3, "perform": [3, 4], "tcp": 3, "ip": 3, "8081": 3, "8082": 3, "8083": 3, "8084": 3, "ones": 3, "example1": 3, "example2": 3, "example3": 3, "example4": 3, "round": 3, "robin": 3, "algorithm": 3, "select": 3, "exist": 3, "revers": 3, "proxi": [3, 7], "most": [3, 7], "popular": 3, "haproxi": 3, "fast": 4, "lightweight": 4, "asyncron": 4, "web": [4, 7], "framework": 4, "3": [4, 7], "compat": 4, "competit": 4, "asyncio": [4, 5], "trio": [4, 5], "curio": [4, 5], "recommend": [4, 7], "7": [], "newer": 4, "pypi": 4, "pip": 4, "command": [4, 6, 7], "minim": 4, "configur": [4, 6, 7], "To": [4, 7], "gunicorn": 4, "uvloop": 4, "httptool": 4, "These": 4, "distribut": 4, "toolkit": 4, "modconfig": 4, "hierarch": 4, "user": [4, 7], "path_param": [4, 7], "titl": 4, "what": [4, 7], "did": 4, "do": [4, 7], "our": 4, "creat": [4, 7], "decor": [4, 7], "trigger": 4, "want": [4, 5, 7], "displai": 4, "browser": 4, "script": 4, "anoth": [4, 7], "open": 4, "8000": [4, 7], "usernam": [4, 7], "enjoi": 4, "dynam": 4, "nest": 4, "environ": 4, "preced": 4, "log": 4, "cli": 4, "integr": [4, 5], "test": [4, 7], "pytest": 4, "api": [4, 5, 6, 7], "client": [4, 6, 7], "deploy": 4, "deploi": 4, "docker": 4, "behind": 4, "nginx": 4, "overview": [4, 7], "some": [5, 7], "pleas": 5, "pr": 5, "templat": 5, "sign": 5, "load": 5, "sql": 5, "orm": 5, "db": 5, "packag": 5, "enhanc": 5, "build": 5, "ui": 5, "metric": 5, "export": 5, "against": 6, "200": [6, 7], "responsewebsocket": 6, "line": 6, "after": [6, 7], "fixtur": 6, "pytestcollectionwarn": 6, "cannot": [6, 7], "collect": 6, "chang": [6, 7], "bind": 7, "hello_world": 7, "similar": 7, "launch": 7, "veri": 7, "builtin": 7, "enough": 7, "probabl": 7, "now": 7, "head": 7, "over": 7, "everi": 7, "section": 7, "detail": 7, "broad": 7, "common": 7, "oper": 7, "access": 7, "transmit": 7, "put": 7, "two": 7, "mention": 7, "abov": 7, "valid_login": 7, "password": 7, "log_the_user_in": 7, "submit": 7, "search": 7, "catch": 7, "keyerror": 7, "becaus": 7, "might": 7, "present": 7, "page": 7, "friendli": 7, "expos": 7, "regular": 7, "normal": 7, "modern": 7, "meaning": 7, "come": 7, "back": 7, "thei": 7, "rememb": 7, "directli": 7, "visit": 7, "only_post": 7, "callback": 7, "regexp": 7, "express": 7, "re": 7, "compil": 7, "r": 7, "reg": 7, "c": 7, "add": 7, "mark": 7, "variable_nam": 7, "show_user_profil": 7, "captur": 7, "charact": 7, "up": 7, "end": 7, "slash": 7, "integ": 7, "point": 7, "uuid": 7, "convertor": 7, "colon": 7, "so": 7, "post_id": 7, "show_post": 7, "unknown": 7, "regex": 7, "order_id": 7, "asset": 7, "endpoint": 7, "responseredirect": 7, "abort": 7, "earli": 7, "responseerror": 7, "401": 7, "this_is_never_execut": 7, "rather": 7, "pointless": 7, "deni": 7, "how": 7, "descript": 7, "shown": 7, "each": 7, "possibl": 7, "themself": 7, "mimetyp": 7, "dump": 7, "produc": 7, "logic": 7, "appli": 7, "follow": 7, "responsehtml": 7, "responsejson": 7, "tupl": 7, "item": 7, "extra": 7, "Such": 7, "overrid": 7, "addit": 7, "responsetext": 7, "short_form": 7, "418": 7, "im": 7, "teapot": 7, "flexibl": 7, "chain": 7, "As": 7, "simpler": 7, "sub": 7, "design": 7, "solv": 7, "problem": 7, "big": 7, "monolith": 7, "main": 7, "subapp": 7, "subpag": 7, "subappl": 7, "sometim": 7, "customis": 7, "consol": 7, "start": 7, "other": 7, "tvfn": [], "tasgiscop": [], "tasgirec": [], "tasgisend": [], "tjson": [], "process_http_error": [], "response_error": [], "tvcallabl": [], "moduletyp": [], "tpath": [], "tmethod": [], "msg_type": [], "tasgimessag": [], "8": 4, "9": 4, "run_background": [], "task": 4, "complet": [], "send_email": 7, "email": 7, "schedul": 7, "later": 7, "execut": 7, "immedi": 7, "import_submodul": [], "submodul": [], "background": 4, "run_after_respons": 7, "somewher": [], "__init__": [], "specif": [], "submodule1": [], "submodule2": [], "silent": [], "ignor": []}, "objects": {"": [[0, 0, 0, "-", "muffin"]], "muffin": [[0, 1, 1, "", "ResponseError"]]}, "objtypes": {"0": "py:module", "1": "py:class"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"]}, "titleterms": {"api": 0, "applic": [0, 2, 3, 7], "class": 0, "base": 0, "handler": 0, "request": [0, 7], "respons": [0, 7], "responsetext": 0, "responsehtml": 0, "responsejson": 0, "responseredirect": 0, "responseerror": 0, "responsestream": 0, "responsess": 0, "responsefil": 0, "responsewebsocket": 0, "test": [0, 6], "client": 0, "cli": 1, "integr": 1, "built": 1, "command": 1, "shell": 1, "write": 1, "custom": 1, "configur": [2, 3], "default": 2, "option": 2, "environ": 2, "variabl": [2, 7], "preced": 2, "log": 2, "deploy": 3, "deploi": 3, "docker": 3, "creat": 3, "dockerfil": 3, "code": 3, "build": 3, "imag": 3, "start": 3, "contain": 3, "behind": 3, "nginx": 3, "welcom": 4, "muffin": [4, 5], "": 4, "document": 4, "featur": 4, "instal": 4, "depend": 4, "quickstart": [4, 7], "tabl": 4, "content": 4, "plugin": 5, "overview": 5, "jinja2": 5, "session": 5, "oauth": 5, "sentri": 5, "peewe": 5, "babel": 5, "databas": 5, "mongo": 5, "rest": 5, "redi": 5, "admin": 5, "prometheu": 5, "testclient": 6, "websocket": 6, "pytest": 6, "support": 6, "usag": 7, "The": 7, "object": 7, "cooki": 7, "file": 7, "upload": 7, "rout": 7, "dynam": 7, "url": 7, "rule": 7, "static": 7, "redirect": 7, "error": 7, "about": 7, "middlewar": 7, "nest": 7, "debug": 7, "mode": 7, "run": 7, "task": 7, "background": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 57}, "alltitles": {"API": [[0, "module-muffin"]], "Application": [[0, "application"]], "Class Based Handlers": [[0, "class-based-handlers"]], "Request": [[0, "request"]], "Responses": [[0, "responses"]], "ResponseText (Response)": [[0, "responsetext-response"]], "ResponseHTML (Response)": [[0, "responsehtml-response"]], "ResponseJSON (Response)": [[0, "responsejson-response"]], "ResponseRedirect (Response)": [[0, "responseredirect-response"]], "ResponseError (Response)": [[0, "responseerror-response"]], "ResponseStream (Response)": [[0, "responsestream-response"]], "ResponseSSE (Response)": [[0, "responsesse-response"]], "ResponseFile (Response)": [[0, "responsefile-response"]], "ResponseWebSocket (Response)": [[0, "responsewebsocket-response"]], "Test Client": [[0, "test-client"]], "CLI integration": [[1, "cli-integration"]], "Built-in commands": [[1, "built-in-commands"]], "shell": [[1, "shell"]], "Write a custom command": [[1, "write-a-custom-command"]], "Configuration": [[2, "configuration"]], "Default Application Options": [[2, "default-application-options"]], "Environment variables": [[2, "environment-variables"]], "Configuration precedence": [[2, "configuration-precedence"]], "Configuring logging": [[2, "configuring-logging"]], "Deployment": [[3, "deployment"]], "Deploy with Docker": [[3, "deploy-with-docker"]], "Create a Dockerfile": [[3, "create-a-dockerfile"]], "Create the application code": [[3, "create-the-application-code"]], "Build the Docker image": [[3, "build-the-docker-image"]], "Start the Docker container": [[3, "start-the-docker-container"]], "Deploy behind NGINX": [[3, "deploy-behind-nginx"]], "Nginx configuration": [[3, "nginx-configuration"]], "Welcome to Muffin\u2019s documentation!": [[4, "welcome-to-muffin-s-documentation"]], "Features": [[4, "features"]], "Installation": [[4, "installation"]], "Dependencies": [[4, "dependencies"]], "Quickstart": [[4, "quickstart"], [7, "quickstart"]], "Table of Contents": [[4, "table-of-contents"]], "Plugins overview": [[5, "plugins-overview"]], "Muffin-Jinja2": [[5, "id1"]], "Muffin-Session": [[5, "id2"]], "Muffin-OAuth": [[5, "id3"]], "Muffin-Sentry": [[5, "id4"]], "Muffin-Peewee": [[5, "id5"]], "Muffin-Babel": [[5, "id6"]], "Muffin-Databases": [[5, "id7"]], "Muffin-Mongo": [[5, "id8"]], "Muffin-REST": [[5, "id9"]], "Muffin-Redis": [[5, "id10"]], "Muffin-Admin": [[5, "id11"]], "Muffin-Prometheus": [[5, "id12"]], "Testing": [[6, "testing"]], "TestClient": [[6, "testclient"]], "Websockets:": [[6, "websockets"]], "Pytest Support": [[6, "pytest-support"]], "Usage": [[7, "usage"]], "The Request Object": [[7, "the-request-object"]], "Cookies": [[7, "cookies"]], "File Uploads": [[7, "file-uploads"]], "Routing": [[7, "routing"]], "Dynamic URLs": [[7, "dynamic-urls"]], "Variable Rules": [[7, "variable-rules"]], "Static Files": [[7, "static-files"]], "Redirects and Errors": [[7, "redirects-and-errors"]], "About Responses": [[7, "about-responses"]], "Middlewares": [[7, "middlewares"]], "Nested applications": [[7, "nested-applications"]], "Run tasks in background": [[7, "run-tasks-in-background"]], "Debug Mode": [[7, "debug-mode"]]}, "indexentries": {"responseerror (class in muffin)": [[0, "muffin.ResponseError"]], "module": [[0, "module-muffin"]], "muffin": [[0, "module-muffin"]]}})